<div class="parent mx-2">
  <mat-card class="mx-1">
    <div class="d-flex justify-content-between">
      <span>{{ discussion.otheruser.nom}}</span>
      <!-- <span>{{e.date | date : "dd-MM-yyyy"}}</span> -->

      <mat-icon style="cursor: pointer;" (click)="update.next(info2)">refresh</mat-icon>
    </div>
  </mat-card>

  <section *ngIf="discussion.id !== 0" class="d-flex justify-ceontent-between flex-column" style="height: 100%;">
    <div class="chat mt-2" style="margin-bottom: 140px;" #scrollMe>
      <mat-card *ngFor="let e of list; let i=index" class="mb-2"
        [ngClass]="{'ml': isYou(e.idMe), 'mr': !isYou(e.idMe)}">

        <p>{{e.message}}</p>

        <div class="d-flex flex-row-reverse align-items-center w-100" style="font-size: .8em; font-style: italic;">
          <span class="text-muted">{{e.date | date : "dd/MM/yyyy HH:mm"}}</span>
          <span class="text-muted">{{nameUser(e)}} - </span>
        </div>
      </mat-card>
    </div>
  </section>


  <form [formGroup]="myFormMessage">
    <mat-card class="mx-1">
      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Message</mat-label>
        <input matInput formControlName="message">
        <button mat-icon-button matSuffix [disabled]="myFormMessage.invalid" (click)="send(myFormMessage.value)">
          <mat-icon>send</mat-icon>
        </button>
      </mat-form-field>

      <!-- {{discussionObj | json}} -->
      <!-- {{myFormMessage.value | json}} -->
    </mat-card>
  </form>
</div>
